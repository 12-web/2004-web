import{r as b,j as e,L as _}from"./index-BXDHdmBj.js";import{L as j}from"./LayoutContainer-CWWCKgPX.js";import{L as n}from"./Layout-DIqbPXxd.js";import{g as p,C as g,I as w,T as L,H as f,S as v,A as y}from"./Alert-DVY6aDvZ.js";import{D as N,C as H}from"./CommonRowSetter-DnpCqQkg.js";import{B as S}from"./MixSpace-14b_NvZ6.js";import{T as W}from"./TextField-_thhhCZK.js";import"./createResponsesImage-CwSZ82Oz.js";const s={article:{title:"Артикул",accessor:"article"},label:{title:"Наименование",accessor:"label"},height:{title:"Высота",accessor:"height"},width:{title:"Ширина",accessor:"width"},length:{title:"Длина",accessor:"length"},netto:{title:"Нетто",accessor:"netto"},brutto:{title:"Брутто",accessor:"brutto"}},k=[{...s.article,minWidth:150},{...s.label,width:"auto"},{...s.height,minWidth:100},{...s.width,minWidth:100},{...s.length,minWidth:100},{...s.netto,minWidth:100},{...s.brutto,minWidth:100}],G="_tableContainer_1wnmr_1",T="_table_1wnmr_1",A="_activeHeaderCell_1wnmr_20",I="_loader_1wnmr_24",R="_toolbar_1wnmr_29",D="_pagination_1wnmr_40",o={tableContainer:G,table:T,activeHeaderCell:A,loader:I,toolbar:R,pagination:D},F=()=>{const[t,u]=b.useState(null),{data:i,isLoading:d}=p.useGetGoodsQuery(),m=b.useMemo(()=>{var l;return((l=i==null?void 0:i.Goods)==null?void 0:l.filter(r=>r.article.toLowerCase().includes((t==null?void 0:t.toLowerCase())||"")||r.label.toLowerCase().includes((t==null?void 0:t.toLowerCase())||"")))||[]},[t,i]);return d?e.jsx(_,{className:o.loader}):e.jsx(g,{data:m,isLoading:d,paginationClass:o.pagination,children:({paginatedData:l,sortColumn:r,handleSort:x,...h})=>e.jsxs(e.Fragment,{children:[e.jsxs(n,{className:o.toolbar,children:[e.jsx(S,{onClick:()=>h.resetFilters(),className:"button",label:"Очистить все фильтры",size:"s",view:"secondary"}),e.jsx(n,{children:e.jsx(W,{className:o.search,placeholder:"Найти товар",rightSide:w,value:t,type:"text",size:"s",onChange:u})})]}),e.jsx(n,{className:o.tableContainer,direction:"column",children:e.jsx(L,{rows:l,className:o.table,headerZIndex:0,stickyHeader:!0,columns:k.map(a=>({...a,renderCell:({row:c})=>e.jsx(N,{row:c,value:c[a.accessor]}),renderHeaderCell:({tableRef:c,...C})=>e.jsx(f,{className:a.accessor===r?o.activeHeaderCell:"",controlRight:a.title?[e.jsx(H,{accessor:a.accessor||Object.values(s)[0].accessor,items:m,...h})]:null,icon:a.title?e.jsx(v,{isActive:a.accessor===r}):void 0,onClick:()=>x(a.accessor||"id"),...C})}))})})]})})},z="_main_u7yki_5",B={main:z},K=()=>e.jsx(j,{children:e.jsxs(n,{className:B.main,direction:"column",children:[e.jsx(F,{}),e.jsx(y,{})]})});export{K as default};
